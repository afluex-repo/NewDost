@model Dost.Models.Home

@{
    Layout = null;
}
<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <meta name="robots" content="" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="Zenix - Crypto Admin Dashboard" />
    <meta property="og:title" content="Zenix - Crypto Admin Dashboard" />
    <meta property="og:description" content="Zenix - Crypto Admin Dashboard" />
    <meta property="og:image" content="social-image.png" />
    <meta name="format-detection" content="telephone=no">
    <title>Forget Password</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="../images/dfavicon.png">
    <link href="../vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
    <link href="../vendor/datatables/css/jquery.dataTables.min.css" rel="stylesheet">
    <link href="../vendor/owl-carousel/owl.carousel.css" rel="stylesheet">
    <link rel="stylesheet" href="../vendor/toastr/css/toastr.min.css">
    <link rel="stylesheet" href="../vendor/chartist/css/chartist.min.css">
    <link rel="stylesheet" href="../vendor/select2/css/select2.min.css">
    <link href="../css/style.css" rel="stylesheet">

</head>
<body class="vh-100">

    <div class="authincation h-100">
        <div class="container h-100">
            <div class="row justify-content-center h-100 align-items-center">
                <div class="col-md-6">
                    <div class="authincation-content">
                        <div class="row no-gutters">
                            <div class="col-xl-12">
                                <div class="auth-form">
                                    <div class="text-center mb-3">
                                        <img src="images/logos/dost-logo.png" alt="" style="width: 150px">
                                    </div>
                                    <h4 class="text-center mb-4">Forget Password</h4>
                                    <span style="color:red;display:none" id="tst">@TempData["ForgetPassword"]</span>
                                    @using (Html.BeginForm("ResetPassword", "Home", FormMethod.Post, new { @id = "form1", enctype = "multipart/form-data" }))
                                    {
                                        <div class="input">
                                            <div class="form-group">
                                                <label class="mb-1"><strong>Temporary Password</strong></label>
                                                @Html.TextBoxFor(m => m.TempPassword, new { @class = "form-control", @placeholder = "Temp Password", @required = "required" })
                                            </div>
                                            <div class="form-group">

                                                <label class="mb-1"><strong>New Password</strong></label>
                                                @Html.TextBoxFor(m => m.NewPassword, new { @class = "form-control", @placeholder = "New Password", @required = "required", @type = "Password" })
                                            </div>
                                            <div class="form-group">
                                                <label></label>
                                                <label class="mb-1"><strong>Confirm Password</strong></label>
                                                @Html.TextBoxFor(m => m.ConfirmPassword, new { @class = "form-control", @placeholder = "Confirm Password", @required = "required", @type = "Password" })
                                            </div>
                                            <div class="clearfix"></div>
                                            <div class="form-group">
                                                <input class="btn btn-primary btn-block" type="submit" value="Reset Password" id="btnSubmit" onclick="return validateConfPassword();">
                                            </div>
                                        </div>

                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    }


    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->
    <script src="../vendor/global/global.min.js"></script>
    <script src="../vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
    <script src="../vendor/toastr/js/toastr.min.js"></script>
    <script src="../js/plugins-init/toastr-init.js"></script>
    <script src="../vendor/chart.js/Chart.bundle.min.js"></script>
    <script src="../vendor/peity/jquery.peity.min.js"></script>
    <script src="../vendor/apexchart/apexchart.js"></script>
    <script src="../js/dashboard/dashboard-1.js"></script>
    <script src="../vendor/owl-carousel/owl.carousel.js"></script>
    <script src="../vendor/toastr/js/toastr.min.js"></script>
    <script src="../js/plugins-init/toastr-init.js"></script>
    <script src="../vendor/datatables/js/jquery.dataTables.min.js"></script>
    <script src="../js/plugins-init/datatables.init.js"></script>
    <script src="../vendor/select2/js/select2.full.min.js"></script>
    <script src="../js/plugins-init/select2-init.js"></script>
    <script src="../js/custom.min.js"></script>
    <script src="../js/deznav-init.js"></script>
    <!-- <script src="../js/styleSwitcher.js"></script> -->
    <script>
        jQuery(document).ready(function () {
            setTimeout(function () {
                dezSettingsOptions.version = 'dark';
                new dezSettings(dezSettingsOptions);
            })
        });
    </script>


    <script type="text/javascript">
        $(window).on('load', function () {
            var status = $('#status');
            var preloader = $('#preloader');
            var body = $('body');
            status.fadeOut();
            preloader.delay(0).fadeOut('fast');
            body.delay(0).css({ 'overflow': 'visible' });
            debugger
            var res = $("#tst").text();
            if (res != "" && res != null) {
                if (res != null) {
                    if (res == "Password reset successfully.") {
                        $(document).ready(function () {
                            toastr.success("@TempData["ForgetPassword"]", "Top Right", {
                                positionClass: "toast-top-right",
                                timeOut: 5e3,
                                closeButton: !0,
                                debug: !1,
                                newestOnTop: !0,
                                progressBar: !0,
                                preventDuplicates: !0,
                                onclick: null,
                                showDuration: "300",
                                hideDuration: "1000",
                                extendedTimeOut: "1000",
                                showEasing: "swing",
                                hideEasing: "linear",
                                showMethod: "fadeIn",
                                hideMethod: "fadeOut",
                                tapToDismiss: !1
                            })
                        }
                        )
                        //alert(res);
                    }
                    else if (res == "Temporary Password is sent to your mobile no.") {
                        $(document).ready(function () {
                            toastr.success("@TempData["ForgetPassword"]", "Top Right", {
                                positionClass: "toast-top-right",
                                timeOut: 5e3,
                                closeButton: !0,
                                debug: !1,
                                newestOnTop: !0,
                                progressBar: !0,
                                preventDuplicates: !0,
                                onclick: null,
                                showDuration: "300",
                                hideDuration: "1000",
                                extendedTimeOut: "1000",
                                showEasing: "swing",
                                hideEasing: "linear",
                                showMethod: "fadeIn",
                                hideMethod: "fadeOut",
                                tapToDismiss: !1
                            })
                        }
                      )
                    }
                   else {
                        $(document).ready(function () {
                            toastr.error("@TempData["ForgetPassword"]", "Top Right", {
                                positionClass: "toast-top-right",
                                timeOut: 5e3,
                                closeButton: !0,
                                debug: !1,
                                newestOnTop: !0,
                                progressBar: !0,
                                preventDuplicates: !0,
                                onclick: null,
                                showDuration: "300",
                                hideDuration: "1000",
                                extendedTimeOut: "1000",
                                showEasing: "swing",
                                hideEasing: "linear",
                                showMethod: "fadeIn",
                                hideMethod: "fadeOut",
                                tapToDismiss: !1
                            })
                        }
    )
                    }
                }
            }
        })

        function validateConfPassword() {
            var password = $('#NewPassword').val();
            var ConfirmPassword = $('#ConfirmPassword').val();
            if (password != ConfirmPassword) {
                $(document).ready(function () {
                    toastr.error("Password and Confirm Password are different", "Top Right", {
                        positionClass: "toast-top-right",
                        timeOut: 5e3,
                        closeButton: !0,
                        debug: !1,
                        newestOnTop: !0,
                        progressBar: !0,
                        preventDuplicates: !0,
                        onclick: null,
                        showDuration: "300",
                        hideDuration: "1000",
                        extendedTimeOut: "1000",
                        showEasing: "swing",
                        hideEasing: "linear",
                        showMethod: "fadeIn",
                        hideMethod: "fadeOut",
                        tapToDismiss: !1
                    })
                }
    )
                //alert("Password and Confirm Password are different");
                $('#NewPassword').val('');
                $('#ConfirmPassword').val('');
                return false;
            }
        }
        $("#btnSubmit").click(function () {
            debugger;
            $(".errortext").removeClass("errortext");
            if ($('#TempPassword').val() == '') {
                $("#TempPassword").addClass('errortext');
                $('#TempPassword').focus();
                return false;
            }
            if ($('#NewPassword').val() == '') {
                $("#NewPassword").addClass('errortext');
                $('#NewPassword').focus();
                return false;
            }
            if ($('#ConfirmPassword').val() == '') {
                $("#ConfirmPassword").addClass('errortext');
                $('#ConfirmPassword').focus();
                return false;
            }
            var status = $('#status');
            var preloader = $('#preloader');
            var body = $('body');
            status.fadeIn();
            preloader.delay(0).fadeIn('fast');
            body.delay(0).css({ 'overflow': 'visible' });
        })
    </script>
</body>

</html>
